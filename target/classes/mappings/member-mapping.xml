<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="MemberMapper">
	<!--  -->
	<select id="getMember" resultType="member">
		select * from member where id=#{id}
	</select>
	<!--  -->
	<select id="confirmID" resultType="String">
		select pwd from member where id=#{id}
	</select>
		<select id="joinconfirmNickname" resultType="String">
		select id from member where nickname=#{nickname}
	</select>
	
	<select id="modifyconfirmNickname" resultType="String">
		select id from member where nickname=#{nickname} and id != #{id}
	</select>
	
	<select id="adminCheck" resultType="String">
		SELECT admin FROM member WHERE id=#{id}
	</select>
	
	<insert id="insertMember">
		INSERT INTO member(id, pwd, name, email, address, nickname, phone)
		VALUES (#{id}, #{pwd}, #{name}, #{email}, #{address}, #{nickname}, #{phone})
	</insert>
	
<!-- 이름과 이메일로 아이디 찾기  -->
	<select id="selectIdByNameEmail" resultType="String">
		SELECT id FROM member WHERE name=#{name}
	</select>
	
<!-- 아이디, 이름, 이메일로 비밀번호 찾기  -->
	<select id="selectPwdByIdNameEmail" resultType="String">
		SELECT pwd FROM member WHERE id=#{id} AND name=#{name} AND email=#{email}
	</select>
	
	<!-- 메일 보내기 -->
	<select id="getPwdByNameEmail" resultType="String">
		SELECT pwd FROM member WHERE name = #{name}
	</select>
	
	<!-- 내 정보 수정 -->
	<update id="modifyMember">
		UPDATE member SET pwd=#{pwd},nickname=#{nickname},address=#{address},email=#{email},phone=#{phone} WHERE id=#{id}
	</update>
</mapper>
